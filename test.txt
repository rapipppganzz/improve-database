--[[
    ‚ï¶‚ïê‚ïó‚ïî‚ïê‚ïó‚ïî‚ïê‚ïó‚ï¶‚ïî‚ïê‚ïó‚ïî‚ï¶‚ïó‚ïî‚ïê‚ïó‚ïî‚ï¶‚ïó‚ïî‚ïê‚ïó
    ‚ïë‚ïî‚ïù‚ï†‚ïê‚ï£‚ï†‚ïê‚ïù‚ïë‚ï†‚ïê‚ïù‚ïë‚ïë‚ïë‚ïë ‚ïë ‚ïë‚ïë‚ïö‚ïê‚ïó
    ‚ï© ‚ï©‚ï© ‚ï©‚ï©  ‚ï©‚ï©  ‚ï© ‚ï©‚ïö‚ïê‚ïù‚ïê‚ï©‚ïù‚ïö‚ïê‚ïù
    Delta Android Compatible
]]

-- Services
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer
wait(1)
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local rootPart = character:WaitForChild("HumanoidRootPart")

-- Config
_G.Config = _G.Config or {
    AutoWalk = false,
    WalkSpeed = 20,
    AutoJump = true,
    AntiVoid = true,
}

-- ========== MOBILE GUI ==========
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "RapipModsMobile"
ScreenGui.ResetOnSpawn = false
ScreenGui.IgnoreGuiInset = true

-- Use parent yang work di Android
pcall(function()
    ScreenGui.Parent = game:GetService("CoreGui")
end)

if not ScreenGui.Parent then
    ScreenGui.Parent = player.PlayerGui
end

-- Main Frame (Lebih kecil untuk mobile)
local Main = Instance.new("Frame")
Main.Name = "Main"
Main.Parent = ScreenGui
Main.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
Main.BackgroundTransparency = 0.1
Main.BorderColor3 = Color3.fromRGB(255, 0, 0)
Main.BorderSizePixel = 2
Main.Position = UDim2.new(0.05, 0, 0.3, 0)
Main.Size = UDim2.new(0, 280, 0, 320)
Main.Active = true
Main.Draggable = true

-- Title
local Title = Instance.new("TextLabel")
Title.Parent = Main
Title.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
Title.Size = UDim2.new(1, 0, 0, 45)
Title.Font = Enum.Font.GothamBold
Title.Text = "üî• RAPIPMODS üî•"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.TextSize = 20

-- Function: Create Button (Mobile optimized)
local function createBtn(name, text, yPos, color)
    local btn = Instance.new("TextButton")
    btn.Name = name
    btn.Parent = Main
    btn.BackgroundColor3 = color or Color3.fromRGB(50, 50, 50)
    btn.BorderSizePixel = 1
    btn.BorderColor3 = Color3.fromRGB(80, 80, 80)
    btn.Position = UDim2.new(0.05, 0, yPos, 0)
    btn.Size = UDim2.new(0.9, 0, 0, 38)
    btn.Font = Enum.Font.Gotham
    btn.Text = text
    btn.TextColor3 = Color3.fromRGB(255, 255, 255)
    btn.TextSize = 14
    btn.TextWrapped = true
    
    return btn
end

-- Auto Walk Button
local walkBtn = createBtn("Walk", "üö∂ Auto Walk: OFF", 0.16)
walkBtn.MouseButton1Click:Connect(function()
    _G.Config.AutoWalk = not _G.Config.AutoWalk
    
    if _G.Config.AutoWalk then
        walkBtn.Text = "üö∂ Auto Walk: ON"
        walkBtn.BackgroundColor3 = Color3.fromRGB(0, 170, 0)
        print("[RAPIPMODS] Walk: ON")
    else
        walkBtn.Text = "üö∂ Auto Walk: OFF"
        walkBtn.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
        print("[RAPIPMODS] Walk: OFF")
    end
end)

-- Speed Label
local speedLbl = Instance.new("TextLabel")
speedLbl.Parent = Main
speedLbl.BackgroundTransparency = 1
speedLbl.Position = UDim2.new(0.05, 0, 0.3, 0)
speedLbl.Size = UDim2.new(0.9, 0, 0, 20)
speedLbl.Font = Enum.Font.Gotham
speedLbl.Text = "‚ö° Speed: 20"
speedLbl.TextColor3 = Color3.fromRGB(255, 255, 0)
speedLbl.TextSize = 13

-- Speed Buttons (+ dan -)
local speedDown = createBtn("SpeedDown", "‚ûñ Speed", 0.38)
speedDown.Size = UDim2.new(0.43, 0, 0, 35)

local speedUp = createBtn("SpeedUp", "‚ûï Speed", 0.38)
speedUp.Position = UDim2.new(0.52, 0, 0.38, 0)
speedUp.Size = UDim2.new(0.43, 0, 0, 35)

speedDown.MouseButton1Click:Connect(function()
    _G.Config.WalkSpeed = math.max(16, _G.Config.WalkSpeed - 5)
    speedLbl.Text = "‚ö° Speed: " .. _G.Config.WalkSpeed
    humanoid.WalkSpeed = _G.Config.WalkSpeed
end)

speedUp.MouseButton1Click:Connect(function()
    _G.Config.WalkSpeed = math.min(100, _G.Config.WalkSpeed + 5)
    speedLbl.Text = "‚ö° Speed: " .. _G.Config.WalkSpeed
    humanoid.WalkSpeed = _G.Config.WalkSpeed
end)

-- Auto Jump Button
local jumpBtn = createBtn("Jump", "‚úÖ Auto Jump: ON", 0.53, Color3.fromRGB(0, 140, 0))
jumpBtn.MouseButton1Click:Connect(function()
    _G.Config.AutoJump = not _G.Config.AutoJump
    
    if _G.Config.AutoJump then
        jumpBtn.Text = "‚úÖ Auto Jump: ON"
        jumpBtn.BackgroundColor3 = Color3.fromRGB(0, 140, 0)
    else
        jumpBtn.Text = "‚ùå Auto Jump: OFF"
        jumpBtn.BackgroundColor3 = Color3.fromRGB(140, 0, 0)
    end
end)

-- Anti Void Button
local voidBtn = createBtn("Void", "‚úÖ Anti Void: ON", 0.66, Color3.fromRGB(0, 140, 0))
voidBtn.MouseButton1Click:Connect(function()
    _G.Config.AntiVoid = not _G.Config.AntiVoid
    
    if _G.Config.AntiVoid then
        voidBtn.Text = "‚úÖ Anti Void: ON"
        voidBtn.BackgroundColor3 = Color3.fromRGB(0, 140, 0)
    else
        voidBtn.Text = "‚ùå Anti Void: OFF"
        voidBtn.BackgroundColor3 = Color3.fromRGB(140, 0, 0)
    end
end)

-- Status
local status = Instance.new("TextLabel")
status.Parent = Main
status.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
status.BorderSizePixel = 0
status.Position = UDim2.new(0.05, 0, 0.78, 0)
status.Size = UDim2.new(0.9, 0, 0, 42)
status.Font = Enum.Font.Gotham
status.Text = "üìä Idle | üéØ 0m"
status.TextColor3 = Color3.fromRGB(0, 255, 150)
status.TextSize = 12
status.TextWrapped = true

-- Close Button
local closeBtn = Instance.new("TextButton")
closeBtn.Parent = Main
closeBtn.BackgroundColor3 = Color3.fromRGB(200, 0, 0)
closeBtn.BorderSizePixel = 0
closeBtn.Position = UDim2.new(0.88, 0, 0.01, 0)
closeBtn.Size = UDim2.new(0, 30, 0, 30)
closeBtn.Font = Enum.Font.GothamBold
closeBtn.Text = "X"
closeBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
closeBtn.TextSize = 16

closeBtn.MouseButton1Click:Connect(function()
    _G.Config.AutoWalk = false
    ScreenGui:Destroy()
    print("[RAPIPMODS] Closed")
end)

-- ========== AUTO WALK LOOP ==========
local function checkObstacle()
    local ray = Ray.new(
        rootPart.Position,
        rootPart.CFrame.LookVector * 3
    )
    local hit = workspace:FindPartOnRayWithIgnoreList(ray, {character})
    return hit
end

-- Main loop
task.spawn(function()
    while task.wait(0.1) do
        pcall(function()
            if _G.Config.AutoWalk then
                -- Update character
                if not character or not character.Parent then
                    character = player.Character
                end
                
                if character then
                    humanoid = character:FindFirstChild("Humanoid")
                    rootPart = character:FindFirstChild("HumanoidRootPart")
                    
                    if humanoid and rootPart then
                        -- Set speed
                        humanoid.WalkSpeed = _G.Config.WalkSpeed
                        
                        -- Anti void
                        if _G.Config.AntiVoid and rootPart.Position.Y < -50 then
                            humanoid.Jump = true
                            task.wait(0.2)
                        end
                        
                        -- Auto jump
                        if _G.Config.AutoJump and checkObstacle() then
                            humanoid.Jump = true
                        end
                        
                        -- Move forward
                        humanoid:Move(rootPart.CFrame.LookVector)
                        
                        -- Update status
                        local height = math.floor(rootPart.Position.Y)
                        status.Text = "üìä Walking | üéØ " .. height .. "m"
                    end
                end
            else
                -- Idle
                if humanoid then
                    humanoid:Move(Vector3.new(0,0,0))
                end
                status.Text = "üìä Idle | üéØ 0m"
            end
        end)
    end
end)

-- ========== RESPAWN HANDLER ==========
player.CharacterAdded:Connect(function(char)
    task.wait(1)
    character = char
    humanoid = char:WaitForChild("Humanoid")
    rootPart = char:WaitForChild("HumanoidRootPart")
    print("[RAPIPMODS] Character respawned")
end)

-- ========== NOTIFICATION ==========
print("========================================")
print("üî• RAPIPMODS - Delta Android")
print("GUI Loaded! Touch buttons to use")
print("========================================")