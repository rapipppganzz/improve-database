-- ═══════════════════════════════════════════════════════════
--     PHYSICS MANIPULATION SCRIPT (FE BYPASS)
--     By: RapipppModss
--     Version: 3.5 - Glitch to Void Edition
--     REAL FE BYPASS - Efek Terus Menerus!
-- ═══════════════════════════════════════════════════════════

local Players = game:GetService("Players")
local player = Players.LocalPlayer
local mouse = player:GetMouse()
local RunService = game:GetService("RunService")

print("╔════════════════════════════════════╗")
print("║  Physics Manipulator - RapipppModss ║")
print("║       GLITCH TO VOID EDITION       ║")
print("╚════════════════════════════════════╝")

-- Settings
local currentMode = "glitch"
local isEnabled = false
local power = 100
local affectedObjects = {}
local activeEffects = {}
local isMinimized = false

-- GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "RapipppModss_Physics"
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = player.PlayerGui

-- Main Frame
local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 220, 0, 200)
MainFrame.Position = UDim2.new(0, 10, 0.5, -100)
MainFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 20)
MainFrame.BorderSizePixel = 0
MainFrame.Parent = ScreenGui

local MainCorner = Instance.new("UICorner")
MainCorner.CornerRadius = UDim.new(0, 10)
MainCorner.Parent = MainFrame

-- Minimized Logo Button (Hidden by default)
local MinimizedLogo = Instance.new("TextButton")
MinimizedLogo.Size = UDim2.new(0, 55, 0, 55)
MinimizedLogo.Position = UDim2.new(0, 10, 0.5, -27.5)
MinimizedLogo.BackgroundColor3 = Color3.fromRGB(255, 100, 0)
MinimizedLogo.Text = "RM"
MinimizedLogo.TextColor3 = Color3.fromRGB(255, 255, 255)
MinimizedLogo.TextSize = 24
MinimizedLogo.Font = Enum.Font.GothamBold
MinimizedLogo.Visible = false
MinimizedLogo.Parent = ScreenGui

local MinLogoCorner = Instance.new("UICorner")
MinLogoCorner.CornerRadius = UDim.new(0, 12)
MinLogoCorner.Parent = MinimizedLogo

local MinLogoGradient = Instance.new("UIGradient")
MinLogoGradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 100, 0)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 50, 0))
}
MinLogoGradient.Rotation = 45
MinLogoGradient.Parent = MinimizedLogo

-- Header
local Header = Instance.new("Frame")
Header.Size = UDim2.new(1, 0, 0, 50)
Header.BackgroundColor3 = Color3.fromRGB(255, 100, 0)
Header.BorderSizePixel = 0
Header.Parent = MainFrame

local HeaderCorner = Instance.new("UICorner")
HeaderCorner.CornerRadius = UDim.new(0, 10)
HeaderCorner.Parent = Header

local HeaderGradient = Instance.new("UIGradient")
HeaderGradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 100, 0)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 50, 0))
}
HeaderGradient.Rotation = 45
HeaderGradient.Parent = Header

-- Logo
local Logo = Instance.new("TextLabel")
Logo.Size = UDim2.new(0, 45, 0, 45)
Logo.Position = UDim2.new(0, 5, 0, 2.5)
Logo.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Logo.Text = "RM"
Logo.TextColor3 = Color3.fromRGB(255, 100, 0)
Logo.TextSize = 20
Logo.Font = Enum.Font.GothamBold
Logo.Parent = Header

local LogoCorner = Instance.new("UICorner")
LogoCorner.CornerRadius = UDim.new(0, 8)
LogoCorner.Parent = Logo

-- Title
local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(0, 120, 0, 25)
Title.Position = UDim2.new(0, 55, 0, 5)
Title.BackgroundTransparency = 1
Title.Text = "RapipppModss"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.TextSize = 14
Title.Font = Enum.Font.GothamBold
Title.TextXAlignment = Enum.TextXAlignment.Left
Title.Parent = Header

local Subtitle = Instance.new("TextLabel")
Subtitle.Size = UDim2.new(0, 120, 0, 15)
Subtitle.Position = UDim2.new(0, 55, 0, 28)
Subtitle.BackgroundTransparency = 1
Subtitle.Text = "Physics FE"
Subtitle.TextColor3 = Color3.fromRGB(255, 255, 255)
Subtitle.TextSize = 10
Subtitle.Font = Enum.Font.Gotham
Subtitle.TextTransparency = 0.4
Subtitle.TextXAlignment = Enum.TextXAlignment.Left
Subtitle.Parent = Header

-- Minimize Button (X berubah jadi -)
local MinimizeButton = Instance.new("TextButton")
MinimizeButton.Size = UDim2.new(0, 30, 0, 30)
MinimizeButton.Position = UDim2.new(1, -35, 0, 10)
MinimizeButton.BackgroundColor3 = Color3.fromRGB(255, 150, 0)
MinimizeButton.Text = "−"
MinimizeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
MinimizeButton.TextSize = 20
MinimizeButton.Font = Enum.Font.GothamBold
MinimizeButton.Parent = Header

local MinimizeCorner = Instance.new("UICorner")
MinimizeCorner.CornerRadius = UDim.new(0, 6)
MinimizeCorner.Parent = MinimizeButton

-- Status dengan notif anchor
local StatusLabel = Instance.new("TextLabel")
StatusLabel.Size = UDim2.new(1, -20, 0, 25)
StatusLabel.Position = UDim2.new(0, 10, 0, 60)
StatusLabel.BackgroundColor3 = Color3.fromRGB(25, 25, 30)
StatusLabel.Text = "🔴 OFF | GLITCH"
StatusLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
StatusLabel.TextSize = 11
StatusLabel.Font = Enum.Font.GothamBold
StatusLabel.Parent = MainFrame

local StatusCorner = Instance.new("UICorner")
StatusCorner.CornerRadius = UDim.new(0, 6)
StatusCorner.Parent = StatusLabel

-- Toggle Button
local ToggleButton = Instance.new("TextButton")
ToggleButton.Size = UDim2.new(1, -20, 0, 35)
ToggleButton.Position = UDim2.new(0, 10, 0, 95)
ToggleButton.BackgroundColor3 = Color3.fromRGB(220, 50, 50)
ToggleButton.Text = "🔴 ENABLE"
ToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ToggleButton.TextSize = 14
ToggleButton.Font = Enum.Font.GothamBold
ToggleButton.Parent = MainFrame

local ToggleCorner = Instance.new("UICorner")
ToggleCorner.CornerRadius = UDim.new(0, 8)
ToggleCorner.Parent = ToggleButton

-- Mode Buttons
local ModesFrame = Instance.new("Frame")
ModesFrame.Size = UDim2.new(1, -20, 0, 30)
ModesFrame.Position = UDim2.new(0, 10, 0, 140)
ModesFrame.BackgroundTransparency = 1
ModesFrame.Parent = MainFrame

local modeButtons = {}
local modeNames = {"fling", "shake", "spin", "glitch"}
local modeIcons = {"💥", "📳", "🌀", "👻"}

for i, modeName in ipairs(modeNames) do
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(0.23, 0, 0, 30)
    btn.Position = UDim2.new((i-1) * 0.25 + 0.01, 0, 0, 0)
    btn.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
    btn.Text = modeIcons[i] .. "\n" .. modeName:upper():sub(1,5)
    btn.TextColor3 = Color3.fromRGB(255, 255, 255)
    btn.TextSize = 9
    btn.Font = Enum.Font.GothamBold
    btn.Parent = ModesFrame
    
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 6)
    corner.Parent = btn
    
    modeButtons[modeName] = btn
    
    btn.MouseButton1Click:Connect(function()
        currentMode = modeName
        
        for _, button in pairs(modeButtons) do
            button.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
        end
        
        btn.BackgroundColor3 = Color3.fromRGB(255, 100, 0)
        StatusLabel.Text = (isEnabled and "🟢 ON" or "🔴 OFF") .. " | " .. modeName:upper()
    end)
end

modeButtons[currentMode].BackgroundColor3 = Color3.fromRGB(255, 100, 0)

-- Counter
local CounterLabel = Instance.new("TextLabel")
CounterLabel.Size = UDim2.new(1, -20, 0, 18)
CounterLabel.Position = UDim2.new(0, 10, 0, 177)
CounterLabel.BackgroundTransparency = 1
CounterLabel.Text = "Active: 0 objects"
CounterLabel.TextColor3 = Color3.fromRGB(150, 150, 150)
CounterLabel.TextSize = 10
CounterLabel.Font = Enum.Font.Gotham
CounterLabel.Parent = MainFrame

-- Minimize/Maximize function
local function toggleMinimize()
    isMinimized = not isMinimized
    MainFrame.Visible = not isMinimized
    MinimizedLogo.Visible = isMinimized
end

MinimizeButton.MouseButton1Click:Connect(function()
    toggleMinimize()
end)

MinimizedLogo.MouseButton1Click:Connect(function()
    toggleMinimize()
end)

-- Update status
local function updateStatus()
    if isEnabled then
        StatusLabel.Text = "🟢 ON | " .. currentMode:upper()
        StatusLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
    else
        StatusLabel.Text = "🔴 OFF | " .. currentMode:upper()
        StatusLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
    end
    
    local activeCount = 0
    for _ in pairs(activeEffects) do
        activeCount = activeCount + 1
    end
    CounterLabel.Text = "Active: " .. activeCount .. " objects"
end

-- Toggle
ToggleButton.MouseButton1Click:Connect(function()
    isEnabled = not isEnabled
    
    if isEnabled then
        ToggleButton.Text = "🟢 ENABLED"
        ToggleButton.BackgroundColor3 = Color3.fromRGB(50, 220, 50)
    else
        ToggleButton.Text = "🔴 ENABLE"
        ToggleButton.BackgroundColor3 = Color3.fromRGB(220, 50, 50)
    end
    
    updateStatus()
end)

-- Notification function
local function showNotification(title, text, duration, color)
    game.StarterGui:SetCore("SendNotification", {
        Title = title;
        Text = text;
        Duration = duration or 3;
        Icon = "";
    })
end

-- Physics functions
local function takeOwnership(obj)
    if obj:IsA("BasePart") and not obj.Anchored then
        pcall(function()
            obj:SetNetworkOwner(player)
        end)
        return true
    end
    return false
end

-- Continuous effects
local function startContinuousEffect(obj, mode)
    if activeEffects[obj] then
        activeEffects[obj] = nil
        updateStatus()
        showNotification("⏹️ Effect Stopped", obj.Name, 1.5)
        return
    end
    
    if not takeOwnership(obj) then return end
    
    activeEffects[obj] = true
    
    spawn(function()
        while activeEffects[obj] and obj.Parent do
            pcall(function()
                if mode == "fling" then
                    obj.Velocity = Vector3.new(
                        math.random(-power, power),
                        math.random(power/2, power),
                        math.random(-power, power)
                    )
                    obj.RotVelocity = Vector3.new(
                        math.random(-30, 30),
                        math.random(-30, 30),
                        math.random(-30, 30)
                    )
                elseif mode == "shake" then
                    local offset = CFrame.new(
                        math.random(-3, 3),
                        math.random(-3, 3),
                        math.random(-3, 3)
                    )
                    obj.CFrame = obj.CFrame * offset
                elseif mode == "spin" then
                    obj.RotVelocity = Vector3.new(power/5, power/5, power/5)
                elseif mode == "glitch" then
                    -- Glitch effect: geser random + turun perlahan ke void
                    obj.CFrame = obj.CFrame * CFrame.new(
                        math.random(-5, 5),
                        -10,
                        math.random(-5, 5)
                    )
                    obj.Transparency = obj.Transparency + 0.05
                    
                    if obj.Position.Y < -500 or obj.Transparency >= 0.95 then
                        obj:Destroy()
                        activeEffects[obj] = nil
                        updateStatus()
                        showNotification("👻 Glitched!", "Object sent to void!", 2)
                        print("[RapipppModss] Object glitched to void!")
                    end
                end
            end)
            wait(0.1)
        end
    end)
    
    updateStatus()
end

-- Click handler dengan notif
mouse.Button1Down:Connect(function()
    if not isEnabled then return end
    
    local target = mouse.Target
    
    if target and target:IsA("BasePart") then
        -- Check if anchored
        if target.Anchored then
            showNotification("⚠️ ANCHORED!", "Object is anchored - FE won't work!", 2.5)
            print("[RapipppModss] ❌ ANCHORED: " .. target.Name)
            return
        end
        
        -- Check if player part
        local isPlayerPart = false
        local ancestor = target
        
        while ancestor do
            if ancestor:IsA("Model") and Players:GetPlayerFromCharacter(ancestor) then
                isPlayerPart = true
                break
            end
            ancestor = ancestor.Parent
        end
        
        if not isPlayerPart then
            startContinuousEffect(target, currentMode)
            
            local status = activeEffects[target] and "STARTED" or "STOPPED"
            showNotification("✅ UNANCHORED!", status .. " " .. currentMode:upper() .. " on " .. target.Name, 2)
            print("[RapipppModss] ✅ UNANCHORED | " .. status .. " " .. currentMode .. " on: " .. target.Name)
        end
    end
end)

-- Draggable MainFrame
local dragging, dragInput, dragStart, startPos

MainFrame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = MainFrame.Position
    end
end)

MainFrame.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then
        dragInput = input
    end
end)

MainFrame.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = false
    end
end)

game:GetService("UserInputService").InputChanged:Connect(function(input)
    if input == dragInput and dragging then
        local delta = input.Position - dragStart
        MainFrame.Position = UDim2.new(
            startPos.X.Scale,
            startPos.X.Offset + delta.X,
            startPos.Y.Scale,
            startPos.Y.Offset + delta.Y
        )
    end
end)

-- Draggable MinimizedLogo
local dragLogoInput, dragLogoStart, logoStartPos
local draggingLogo = false

MinimizedLogo.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        draggingLogo = true
        dragLogoStart = input.Position
        logoStartPos = MinimizedLogo.Position
    end
end)

MinimizedLogo.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then
        dragLogoInput = input
    end
end)

MinimizedLogo.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        draggingLogo = false
    end
end)

game:GetService("UserInputService").InputChanged:Connect(function(input)
    if input == dragLogoInput and draggingLogo then
        local delta = input.Position - dragLogoStart
        MinimizedLogo.Position = UDim2.new(
            logoStartPos.X.Scale,
            logoStartPos.X.Offset + delta.X,
            logoStartPos.Y.Scale,
            logoStartPos.Y.Offset + delta.Y
        )
    end
end)

print("✅ Physics Manipulator loaded!")
print("📝 Created by: RapipppModss")
print("⚡ GLITCH TO VOID MODE - Objects will disappear!")
print("💡 Green notif = UNANCHORED (FE works!)")
print("❌ Red notif = ANCHORED (FE won't work!)")
print("➖ Click minus button to minimize to logo!")
