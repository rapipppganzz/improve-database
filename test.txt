-- ═══════════════════════════════════════════════════════════
--     PHYSICS MANIPULATION SCRIPT (FE BYPASS)
--     By: RapipppModss
--     Version: 3.0 - Continuous Effect Edition
--     REAL FE BYPASS - Efek Terus Menerus!
-- ═══════════════════════════════════════════════════════════

local Players = game:GetService("Players")
local player = Players.LocalPlayer
local mouse = player:GetMouse()
local RunService = game:GetService("RunService")

print("╔════════════════════════════════════╗")
print("║  Physics Manipulator - RapipppModss ║")
print("║     CONTINUOUS EFFECT EDITION      ║")
print("╚════════════════════════════════════╝")

-- Settings
local currentMode = "fling"
local isEnabled = false
local power = 100
local affectedObjects = {}
local activeEffects = {}

-- GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "RapipppModss_Physics"
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = player.PlayerGui

-- Main Frame (Lebih kecil)
local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 220, 0, 200)
MainFrame.Position = UDim2.new(0, 10, 0.5, -100)
MainFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 20)
MainFrame.BorderSizePixel = 0
MainFrame.Parent = ScreenGui

local MainCorner = Instance.new("UICorner")
MainCorner.CornerRadius = UDim.new(0, 10)
MainCorner.Parent = MainFrame

-- Header dengan Logo
local Header = Instance.new("Frame")
Header.Size = UDim2.new(1, 0, 0, 50)
Header.BackgroundColor3 = Color3.fromRGB(255, 100, 0)
Header.BorderSizePixel = 0
Header.Parent = MainFrame

local HeaderCorner = Instance.new("UICorner")
HeaderCorner.CornerRadius = UDim.new(0, 10)
HeaderCorner.Parent = Header

local HeaderGradient = Instance.new("UIGradient")
HeaderGradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 100, 0)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 50, 0))
}
HeaderGradient.Rotation = 45
HeaderGradient.Parent = Header

-- Logo RapipppModss
local Logo = Instance.new("TextLabel")
Logo.Size = UDim2.new(0, 45, 0, 45)
Logo.Position = UDim2.new(0, 5, 0, 2.5)
Logo.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Logo.Text = "RM"
Logo.TextColor3 = Color3.fromRGB(255, 100, 0)
Logo.TextSize = 20
Logo.Font = Enum.Font.GothamBold
Logo.Parent = Header

local LogoCorner = Instance.new("UICorner")
LogoCorner.CornerRadius = UDim.new(0, 8)
LogoCorner.Parent = Logo

-- Title
local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(0, 120, 0, 25)
Title.Position = UDim2.new(0, 55, 0, 5)
Title.BackgroundTransparency = 1
Title.Text = "RapipppModss"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.TextSize = 14
Title.Font = Enum.Font.GothamBold
Title.TextXAlignment = Enum.TextXAlignment.Left
Title.Parent = Header

local Subtitle = Instance.new("TextLabel")
Subtitle.Size = UDim2.new(0, 120, 0, 15)
Subtitle.Position = UDim2.new(0, 55, 0, 28)
Subtitle.BackgroundTransparency = 1
Subtitle.Text = "Physics FE"
Subtitle.TextColor3 = Color3.fromRGB(255, 255, 255)
Subtitle.TextSize = 10
Subtitle.Font = Enum.Font.Gotham
Subtitle.TextTransparency = 0.4
Subtitle.TextXAlignment = Enum.TextXAlignment.Left
Subtitle.Parent = Header

-- Close Button (X)
local CloseButton = Instance.new("TextButton")
CloseButton.Size = UDim2.new(0, 30, 0, 30)
CloseButton.Position = UDim2.new(1, -35, 0, 10)
CloseButton.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
CloseButton.Text = "✕"
CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseButton.TextSize = 18
CloseButton.Font = Enum.Font.GothamBold
CloseButton.Parent = Header

local CloseCorner = Instance.new("UICorner")
CloseCorner.CornerRadius = UDim.new(0, 6)
CloseCorner.Parent = CloseButton

-- Status
local StatusLabel = Instance.new("TextLabel")
StatusLabel.Size = UDim2.new(1, -20, 0, 25)
StatusLabel.Position = UDim2.new(0, 10, 0, 60)
StatusLabel.BackgroundColor3 = Color3.fromRGB(25, 25, 30)
StatusLabel.Text = "🔴 OFF | FLING"
StatusLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
StatusLabel.TextSize = 11
StatusLabel.Font = Enum.Font.GothamBold
StatusLabel.Parent = MainFrame

local StatusCorner = Instance.new("UICorner")
StatusCorner.CornerRadius = UDim.new(0, 6)
StatusCorner.Parent = StatusLabel

-- Toggle Button
local ToggleButton = Instance.new("TextButton")
ToggleButton.Size = UDim2.new(1, -20, 0, 35)
ToggleButton.Position = UDim2.new(0, 10, 0, 95)
ToggleButton.BackgroundColor3 = Color3.fromRGB(220, 50, 50)
ToggleButton.Text = "🔴 ENABLE"
ToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ToggleButton.TextSize = 14
ToggleButton.Font = Enum.Font.GothamBold
ToggleButton.Parent = MainFrame

local ToggleCorner = Instance.new("UICorner")
ToggleCorner.CornerRadius = UDim.new(0, 8)
ToggleCorner.Parent = ToggleButton

-- Mode Buttons
local ModesFrame = Instance.new("Frame")
ModesFrame.Size = UDim2.new(1, -20, 0, 30)
ModesFrame.Position = UDim2.new(0, 10, 0, 140)
ModesFrame.BackgroundTransparency = 1
ModesFrame.Parent = MainFrame

local modeButtons = {}
local modeNames = {"fling", "shake", "spin"}
local modeIcons = {"💥", "📳", "🌀"}

for i, modeName in ipairs(modeNames) do
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(0.31, 0, 0, 30)
    btn.Position = UDim2.new((i-1) * 0.33 + 0.01, 0, 0, 0)
    btn.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
    btn.Text = modeIcons[i] .. "\n" .. modeName:upper()
    btn.TextColor3 = Color3.fromRGB(255, 255, 255)
    btn.TextSize = 9
    btn.Font = Enum.Font.GothamBold
    btn.Parent = ModesFrame
    
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 6)
    corner.Parent = btn
    
    modeButtons[modeName] = btn
    
    btn.MouseButton1Click:Connect(function()
        currentMode = modeName
        
        for _, button in pairs(modeButtons) do
            button.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
        end
        
        btn.BackgroundColor3 = Color3.fromRGB(255, 100, 0)
        StatusLabel.Text = (isEnabled and "🟢 ON" or "🔴 OFF") .. " | " .. modeName:upper()
    end)
end

modeButtons[currentMode].BackgroundColor3 = Color3.fromRGB(255, 100, 0)

-- Counter
local CounterLabel = Instance.new("TextLabel")
CounterLabel.Size = UDim2.new(1, -20, 0, 18)
CounterLabel.Position = UDim2.new(0, 10, 0, 177)
CounterLabel.BackgroundTransparency = 1
CounterLabel.Text = "Active: 0 objects"
CounterLabel.TextColor3 = Color3.fromRGB(150, 150, 150)
CounterLabel.TextSize = 10
CounterLabel.Font = Enum.Font.Gotham
CounterLabel.Parent = MainFrame

-- Close button function
CloseButton.MouseButton1Click:Connect(function()
    -- Stop all effects
    for obj, _ in pairs(activeEffects) do
        activeEffects[obj] = nil
    end
    ScreenGui:Destroy()
    print("[RapipppModss] GUI closed!")
end)

-- Update status
local function updateStatus()
    if isEnabled then
        StatusLabel.Text = "🟢 ON | " .. currentMode:upper()
        StatusLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
    else
        StatusLabel.Text = "🔴 OFF | " .. currentMode:upper()
        StatusLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
    end
    
    local activeCount = 0
    for _ in pairs(activeEffects) do
        activeCount = activeCount + 1
    end
    CounterLabel.Text = "Active: " .. activeCount .. " objects"
end

-- Toggle
ToggleButton.MouseButton1Click:Connect(function()
    isEnabled = not isEnabled
    
    if isEnabled then
        ToggleButton.Text = "🟢 ENABLED"
        ToggleButton.BackgroundColor3 = Color3.fromRGB(50, 220, 50)
    else
        ToggleButton.Text = "🔴 ENABLE"
        ToggleButton.BackgroundColor3 = Color3.fromRGB(220, 50, 50)
    end
    
    updateStatus()
end)

-- Physics functions
local function takeOwnership(obj)
    if obj:IsA("BasePart") and not obj.Anchored then
        pcall(function()
            obj:SetNetworkOwner(player)
        end)
        return true
    end
    return false
end

-- Continuous effects
local function startContinuousEffect(obj, mode)
    if activeEffects[obj] then
        -- Already has effect, stop it
        activeEffects[obj] = nil
        updateStatus()
        return
    end
    
    if not takeOwnership(obj) then return end
    
    activeEffects[obj] = true
    
    spawn(function()
        while activeEffects[obj] and obj.Parent do
            pcall(function()
                if mode == "fling" then
                    obj.Velocity = Vector3.new(
                        math.random(-power, power),
                        math.random(power/2, power),
                        math.random(-power, power)
                    )
                    obj.RotVelocity = Vector3.new(
                        math.random(-30, 30),
                        math.random(-30, 30),
                        math.random(-30, 30)
                    )
                elseif mode == "shake" then
                    local offset = CFrame.new(
                        math.random(-3, 3),
                        math.random(-3, 3),
                        math.random(-3, 3)
                    )
                    obj.CFrame = obj.CFrame * offset
                elseif mode == "spin" then
                    obj.RotVelocity = Vector3.new(power/5, power/5, power/5)
                end
            end)
            wait(0.1)
        end
    end)
    
    updateStatus()
end

-- Click handler
mouse.Button1Down:Connect(function()
    if not isEnabled then return end
    
    local target = mouse.Target
    
    if target and target:IsA("BasePart") and not target.Anchored then
        local isPlayerPart = false
        local ancestor = target
        
        while ancestor do
            if ancestor:IsA("Model") and Players:GetPlayerFromCharacter(ancestor) then
                isPlayerPart = true
                break
            end
            ancestor = ancestor.Parent
        end
        
        if not isPlayerPart then
            startContinuousEffect(target, currentMode)
            
            local status = activeEffects[target] and "STARTED" or "STOPPED"
            print("[RapipppModss] " .. status .. " " .. currentMode .. " on: " .. target.Name)
        end
    end
end)

-- Draggable
local dragging, dragInput, dragStart, startPos

MainFrame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = MainFrame.Position
    end
end)

MainFrame.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then
        dragInput = input
    end
end)

MainFrame.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = false
    end
end)

game:GetService("UserInputService").InputChanged:Connect(function(input)
    if input == dragInput and dragging then
        local delta = input.Position - dragStart
        MainFrame.Position = UDim2.new(
            startPos.X.Scale,
            startPos.X.Offset + delta.X,
            startPos.Y.Scale,
            startPos.Y.Offset + delta.Y
        )
    end
end)

print("✅ Physics Manipulator loaded!")
print("📝 Created by: RapipppModss")
print("⚡ CONTINUOUS EFFECT - Click once to start, click again to stop!")
print("💡 Only works on UNANCHORED objects!")
